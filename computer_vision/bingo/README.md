# 🎯 색깔 빙고 게임 - OpenCV 실시간 색상 검출

## 🎮 게임 소개

웹캠을 사용하여 실시간으로 색상을 검출하고, 3x3 빙고판을 완성하는 교육용 게임입니다.

### 게임 규칙

- 📋 3x3 빙고판에 9가지 색상이 랜덤 배치
- 📹 웹캠으로 실제 물체의 색상을 검출
- ✅ 검출된 색상이 빙고판에 있으면 자동 체크
- 🎊 한 줄(가로/세로/대각선) 완성시 빙고!
- ⏰ 15분 시간 제한

### 점수 시스템

- 색상 발견: +10점
- 빙고 완성: +50점 (줄당)

## 🚀 설치 및 실행

### 사전 요구사항

- Python 3.12 이상 (프로젝트 설정 기준)
- uv 패키지 매니저
- 웹캠이 연결된 컴퓨터

### 설치 및 실행 방법

```bash
# 1) 의존성 설치 (프로젝트 루트에서 1회)
uv sync

# 2) 게임 실행 (color_bingo 디렉터리에서)
cd color_bingo
uv run main.py
```

## 🕹️ 게임 조작법

- **SPACE**: 게임 시작/재시작
- **ESC**: 게임 종료
- **R**: 빙고판 리셋

## 🎨 지원하는 색상

| 색상 | HSV 범위      | 추천 물체            |
| ---- | ------------- | -------------------- |
| 빨강 | 0-10, 170-180 | 빨간 펜, 토마토      |
| 주황 | 10-25         | 오렌지, 당근         |
| 노랑 | 25-35         | 바나나, 노란 종이    |
| 연두 | 35-50         | 연두색 펜            |
| 초록 | 50-80         | 초록 잎사귀          |
| 청록 | 80-100        | 청록색 물체          |
| 파랑 | 100-130       | 파란 펜, 하늘색 물체 |
| 보라 | 130-160       | 보라색 펜            |
| 분홍 | 160-170       | 분홍색 물체          |

## 💡 게임 팁

### 🔧 최적의 게임 환경

- **조명**: 밝고 균일한 조명 (형광등 권장)
- **배경**: 단색 배경 (흰색 벽 권장)
- **거리**: 웹캠으로부터 30-50cm
- **물체 크기**: 손바닥 크기 이상

### 🎯 고득점 전략

1. 큰 물체 사용 (더 많은 픽셀 = 더 쉬운 검출)
2. 선명한 색상 우선 공략
3. 배경과 대비되는 색상 선택
4. 빙고 라인을 고려한 색상 순서

## ⚙️ 설정(config.py)

`color_bingo/config.py`에서 주요 설정을 변경할 수 있습니다.

- 게임/점수
  - `GAME_TIME`: 게임 시간(초)
  - `COLOR_SCORE`, `BINGO_SCORE`: 채점 규칙
- 웹캠
  - `CAMERA_WIDTH`, `CAMERA_HEIGHT`: 캡처 해상도
- 검출
  - `DETECTION_THRESHOLD`: 색상 픽셀 임계값 (값↑ → 더 엄격)
- UI/보드
  - `UI_COLORS`: 색상 테마
  - `OVERLAY_ALPHA`: 오버레이 투명도
  - `CELL_SIZE`: 기본 셀 크기
  - `BOARD_SCALE`: 빙고판 배율(2면 2배)
  - `FONT_SIZES`: 글꼴 크기 (`timer`, `score`, `guide`, `cell`)

예시(더 크게 하고 싶을 때):

```python
BOARD_SCALE = 3

FONT_SIZES = {
    'timer': 36,
    'score': 36,
    'guide': 34,
    'cell': 40
}
```

## 🖋️ 한글 폰트 표시

- 시스템 기본 한글 폰트를 자동 탐색합니다.
  - macOS: Apple SD 산돌고딕 등
  - Windows: 맑은 고딕(`C:\\Windows\\Fonts\\malgun.ttf`) 등
  - Linux: Noto/Nanum 계열
- 원하는 폰트를 강제하려면 환경변수로 지정하세요.

```bash
# 예시 (macOS/리눅스)
export FONT_PATH=/path/to/your/font.ttf
# 예시 (Windows PowerShell)
$env:FONT_PATH = "C:\\Windows\\Fonts\\malgun.ttf"
```

## 🛠️ 문제 해결

### 웹캠이 인식되지 않을 때

```python
# main.py에서 다른 카메라 인덱스 시도
cap = cv2.VideoCapture(1)  # 0 대신 1, 2, 3... 시도
```

### 색상 검출이 안 될 때

1. 조명 개선 (더 밝게)
2. 물체를 더 크게 또는 카메라에 가깝게
3. 배경과 대비되는 색상 사용
4. 물체를 천천히 움직여보기

### 오검출이 많을 때

- `config.py`의 `DETECTION_THRESHOLD` 값을 크게 조정
  - 예: 1000 → 2000

### 성능이 느릴 때

```python
# 웹캠 해상도 낮추기
cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)
cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)
```

## 📚 교육적 가치

### 학습 목표

- OpenCV 기본 개념 이해
- HSV 색상 공간 학습
- 실시간 영상 처리 체험
- 컴퓨터 비전 응용 사례 경험

### 확장 학습

- 다른 색상 추가/수정
- 더 복잡한 모양 검출
- 머신러닝 기반 객체 인식
- 딥러닝 모델 적용

## 🏆 팀 경쟁 모드

여러 팀이 동시에 게임하여 순위를 겨룰 수 있습니다.

### 경쟁 규칙

- 동일한 시간에 시작
- 15분 후 점수 비교
- 빙고 줄 수 → 총점 순으로 순위 결정

## 📞 지원

문제가 발생하면 다음을 확인하세요:

1. **Python 버전**: 3.12 이상
2. **패키지 설치**: opencv-python, numpy, pillow
3. **웹캠 권한/연결**: 다른 앱에서 점유 중인지, OS 권한 허용 여부
4. **가상환경**: uv로 올바르게 동작하는지 (`uv sync` 재시도)

## 📄 라이선스

이 프로젝트는 교육 목적으로 자유롭게 사용 가능합니다.

---

🎊 **즐거운 색깔 빙고 게임 되세요!** 🌈
